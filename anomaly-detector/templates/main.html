<!DOCTYPE html>

<head>
    <meta charset="UTF-8">
    <title>Failure Prediction</title>
    <!--<link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">-->
    <link rel="stylesheet" href="{{ url_for('static', filename='main.css') }}">



</head>
<body>
    <div class="mainDiv">
        <h2 class='title'>Anomaly Detection</h2>
        <!-- Tab links -->
        <div class="tab">
            <button id="PostgresBtn" class="tablinks" onclick="openTab(this, 'tab1')">Connect to a Postgres Database</button>
            <button id="CsvBtn" class="tablinks" onclick="openTab(this, 'tab2')">Import your own .csv file</button>
            <button id="GenerateDataBtn" class="tablinks" onclick="openTab(this, 'tab3')">Generate Synthetic Data</button>

        </div>

        <!-- Tab content -->
        <div id="tab1" class="tabcontent">
            <h3>Connect to a 
                <a href='http://cloudbeaver-test-db02.apps.ieee.8goc.p1.openshiftapps.com/#/' target="_blank">
                Postgres Database
            </a>
            </h3>
                
                <form id="postgresForm" method="post">
                    <div id='postgresSpacing'>
                        <div class='formContainer'>
                            <div class='formDiv'>
                                <h4>Sensors</h4>
                            {% for col in col_list %}
                                <label>
                                    <input type="radio" name="sensor_list" value='{{col}}'/>{{col}}
                                </label>
                            {% endfor %}
                                </div>
                            <div class='formDiv'>
                                <h4>Regression Group Sizes</h4>
                                {% for size in size_list %}
                                    <label>
                                        <input type="radio" name="size_list" value='{{size}}'/>{{size}}
                                    </label>
                                {% endfor %}
                                </div>
                            <div class='formDiv'>
                                <h4>Std threshold</h4>
                                {% for std in stds_list %}
                                    <label>
                                        <input type="radio" name="stds_list" value='{{std}}'/>{{std}}
                                    </label>
                                {% endfor %}
                                </div>
                        </div>
                    </div>
                </form>
           
                <div class='startStopButtons'>
                    <input type="button" id="startPlotBtn" value="Start Plot">
                    <input type="button" id="stopPlotBtn" value="Stop Plot">
            
                </div>
                <div id="graph"></div>
        </div>

        <div id="tab2" class="tabcontent">                 
            <form id="csvForm" method="post">

                <div id='importCsvDiv'>
                    <h3 id='csv_title'>Upload a CSV file</h3>   
                    <input type="file" accept=".csv" id="csv_input" name="csv_input"/>   
                </div>
                <label for="col_name">Column Name:</label>
                <input type="text" id="col_name" name="col_name"/>
                <div id='csvSpacing'>
                    <div class='formContainer'>
                        <div class='formDiv'>
                            <h4>Regression Group Sizes</h4>
                            {% for size in size_list %}
                                <label>
                                    <input type="radio" name="size_list" value='{{size}}'/>{{size}}
                                </label>
                            {% endfor %}
                        </div>
                        <div class='formDiv'>
                            <h4>Std threshold</h4>
                            {% for std in stds_list %}
                                <label>
                                    <input type="radio" name="stds_list" value='{{std}}'/>{{std}}
                                </label>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            </form>
            
            <div class='startStopButtons'>
                <input type="button" id="startCsvPlotBtn" value="Start Plot">
                <input type="button" id="stopCsvPlotBtn" value="Stop Plot">
        
                </div>
            <div id="graph"></div>
        
        </div>

        <div id="tab3" class="tabcontent" style="display: none">
            <h3>Generate Synthetic Data</h3>
            <form id="dataForm" method="post">
                <label for="col_name">Name your sensor:</label>
                <input type="text" id="col_name" name="col_name" placeholder="sensor_###"/>
                <div id='dataSpacing'>
                    <div class='formContainer'>
                        <div class='formDiv'>
                            <h4>Regression Group Sizes</h4>
                            {% for size in size_list %}
                                <label>
                                    <input type="radio" name="size_list" value='{{size}}'/>{{size}}
                                </label>
                            {% endfor %}
                        </div>
                        <div class='formDiv'>
                            <h4>Std threshold</h4>
                            {% for std in stds_list %}
                                <label>
                                    <input type="radio" name="stds_list" value='{{std}}'/>{{std}}
                                </label>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            </form>
            
            <div class='startStopButtons'>
                <input type="button" id="startDataPlotBtn" value="Start Generating Synthetic Data">
                <input type="button" id="stopDataPlotBtn" value="Stop Data Synthesization">
        
                </div>
            <div id="graph"></div>
        </div>


    </div>
    

    <script type="text/javascript" src="static/plot.js"></script>
    <script type="text/javascript" src="static/messageHandler.js"></script>
    <script src="static/tabs.js" charset="utf-8"></script>
    <script src="static/display.js"></script>

</body>
</html>